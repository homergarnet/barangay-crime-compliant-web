<!-- bg-gradient-danger put this if you want nice background -->
<div class="header pb-8 pt-5 pt-md-8">
  <div class="container-fluid">
    <div class="row">
      <div
        id="exampleModalCenter"
        class="modal fade {{
          this.isModalShow == true ? 'show display-modal' : 'hide-modal'
        }}"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalCenterTitle"
      >
        <div
          class="modal-dialog modal-dialog-centered modal-lg"
          role="document"
        >
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalCenterTitle">
                {{ modalTitle }}
              </h5>
              <button
                type="button"
                class="close"
                (click)="showHideModal('')"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">Ã—</span>
              </button>
            </div>
            <div class="modal-body scrollable-div">
              <form [formGroup]="createUserForm" (ngSubmit)="onSignUp()">
                <div class="row mb-2 justify-content-center text-center">
                  <div class="col-md-6 text-center">
                    <p class="text-center"></p>
                    <h6 class="white-text">Upload Your Valid Id</h6>
                    <img
                      [src]="imgDisplay"
                      class="selected-image"
                      alt="Selected Image"
                    />
                    <input
                      #inputFile
                      class="white-text"
                      type="file"
                      formControlName="validId"
                      (change)="onFileSelected($event)"
                      accept="image/*"
                    />
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'Valid Id is required',
                        control: createUserForm.controls['validId']
                      }"
                    ></ng-container>
                  </div>
                  <div class="col-md-6 text-center">
                    <h6 class="white-text">Upload Your Selfie</h6>
                    <img
                      [src]="imgDisplay2"
                      class="selected-image"
                      alt="Selected Image"
                    />
                    <input
                      #inputFile2
                      class="white-text"
                      type="file"
                      formControlName="selfieId"
                      (change)="onFileSelected2($event)"
                      accept="image/*"
                    />
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'Selfie Id is required',
                        control: createUserForm.controls['selfieId']
                      }"
                    ></ng-container>
                  </div>
                </div>
                <div class="row mb-2">
                  <div class="col-md">
                    <label for="firstName" class="mb-1">First Name: </label>
                    <input
                      id="firstName"
                      class="form-control"
                      type="text"
                      placeholder="Firstname"
                      formControlName="firstName"
                    />
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'First Name is required',
                        control: createUserForm.controls['firstName']
                      }"
                    ></ng-container>
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'minlength',
                        message: 'First Name should have at least 3 symbols',
                        control: createUserForm.controls['firstName']
                      }"
                    ></ng-container>
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'maxLength',
                        message: 'First Name should have maximum 30 symbols',
                        control: createUserForm.controls['firstName']
                      }"
                    ></ng-container>
                  </div>
                  <div class="col-md">
                    <label for="middleName" class="mb-1">Middle Name: </label>
                    <input
                      id="middleName"
                      class="form-control"
                      type="text"
                      placeholder="Middle Name"
                      formControlName="middleName"
                    />
                  </div>
                  <div class="col-md">
                    <label for="lastName" class="mb-1">Last Name: </label>
                    <input
                      id="lastName"
                      class="form-control"
                      type="text"
                      placeholder="Lastname"
                      formControlName="lastName"
                    />
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'Last Name is required',
                        control: createUserForm.controls['lastName']
                      }"
                    ></ng-container>
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'minlength',
                        message: 'Last Name should have at least 3 symbols',
                        control: createUserForm.controls['lastName']
                      }"
                    ></ng-container>
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'maxLength',
                        message: 'Last Name should have maximum 30 symbols',
                        control: createUserForm.controls['lastName']
                      }"
                    ></ng-container>
                  </div>
                </div>
                <div class="row mb-2">
                  <div class="col-md">
                    <label for="birthDay" class="mb-1">Day</label>
                    <select
                      id="birthDay"
                      class="form-control"
                      formControlName="birthDay"
                    >
                      <option *ngFor="let d of days" [value]="d">
                        {{ d }}
                      </option>
                    </select>
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'Day is required',
                        control: createUserForm.controls['birthDay']
                      }"
                    ></ng-container>
                  </div>
                  <div class="col-md">
                    <label for="birthMonth" class="mb-1">Month</label>
                    <select
                      id="birthMonth"
                      class="form-control"
                      formControlName="birthMonth"
                    >
                      <option *ngFor="let m of months" [value]="m.MonthNum">
                        {{ m.Month }}
                      </option>
                    </select>
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'Month is required',
                        control: createUserForm.controls['birthMonth']
                      }"
                    ></ng-container>
                  </div>
                  <div class="col-md">
                    <label for="birthYear" class="mb-1">Year</label>
                    <select
                      (change)="onChangeDayDateYear()"
                      id="birthYear"
                      class="form-control"
                      formControlName="birthYear"
                    >
                      <option *ngFor="let y of years" [value]="y">
                        {{ y }}
                      </option>
                    </select>
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'Year is required',
                        control: createUserForm.controls['birthYear']
                      }"
                    ></ng-container>
                  </div>
                </div>
                <div class="row mb-2">
                  <div class="col-md">
                    <label for="age" class="mb-1">Age: </label>
                    <input
                      id="age"
                      class="form-control"
                      type="number"
                      [disabled]="true"
                      placeholder="Age"
                      value="{{ this.birthAge?.value }}"
                    />
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'Age is required',
                        control: createUserForm.controls['birthAge']
                      }"
                    ></ng-container>
                  </div>
                </div>
                <div class="row mb-2">
                  <div class="col-md">
                    <label for="year" class="mb-1">Gender</label>
                    <select
                      id="year"
                      class="form-control"
                      formControlName="gender"
                    >
                      <option value="male">Male</option>
                      <option value="female">Female</option>
                    </select>
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'Gender is required',
                        control: createUserForm.controls['gender']
                      }"
                    ></ng-container>
                  </div>
                  <div class="col-md">
                    <label for="contactNumber" class="mb-1"
                      >Contact Number:
                    </label>
                    <input
                      id="contactNumber"
                      class="form-control"
                      (keypress)="this.formatterService.keyPressNumeric($event)"
                      type="text"
                      placeholder="Contact Number"
                      formControlName="contactNumber"
                    />
                    <span
                      class="text-danger"
                      *ngIf="contactNumber && contactNumber.invalid"
                      >Contact field is invalid</span
                    >
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'Contact Number is required',
                        control: createUserForm.controls['contactNumber']
                      }"
                    ></ng-container>
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'minlength',
                        message:
                          'Contact Number should have at least 10 symbols',
                        control: createUserForm.controls['contactNumber']
                      }"
                    ></ng-container>
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'maxLength',
                        message:
                          'Contact Number should have maximum 20 symbols',
                        control: createUserForm.controls['contactNumber']
                      }"
                    ></ng-container>
                  </div>
                </div>
                <div class="row mb-2">
                  <div class="col-md text-center">
                    <div class="form-group">
                      <label class="form-check-label">
                        <input
                          type="radio"
                          class="form-check-input"
                          formControlName="residencyType"
                          value="permanent"
                        />
                        PERMANENT RESIDENCY ADDRESS
                      </label>
                    </div>
                    <div class="form-group">
                      <label class="form-check-label">
                        <input
                          type="radio"
                          class="form-check-input"
                          formControlName="residencyType"
                          value="short term"
                        />
                        SHORT-TERM RESIDENCY ADDRESS
                      </label>
                    </div>
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'Residency Type is required',
                        control: createUserForm.controls['residencyType']
                      }"
                    ></ng-container>
                  </div>
                </div>
                <div class="row mb-2">
                  <div class="col-md">
                    <label for="houseNo" class="mb-1">House/Lot Number: </label>
                    <input
                      id="houseNo"
                      class="form-control"
                      type="text"
                      placeholder="House/Lot Number"
                      formControlName="houseNo"
                    />
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'House/Lot Number is required',
                        control: createUserForm.controls['houseNo']
                      }"
                    ></ng-container>
                  </div>
                  <div class="col-md">
                    <label for="street" class="mb-1">Street: </label>
                    <input
                      id="street"
                      class="form-control"
                      type="text"
                      placeholder="Street"
                      formControlName="street"
                    />
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'Street is required',
                        control: createUserForm.controls['street']
                      }"
                    ></ng-container>
                  </div>
                  <div class="col-md">
                    <label for="village" class="mb-1"
                      >Village/Subdivision:
                    </label>
                    <input
                      id="village"
                      class="form-control"
                      type="text"
                      placeholder="Village/Subdivision"
                      formControlName="village"
                    />
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'Village is required',
                        control: createUserForm.controls['village']
                      }"
                    ></ng-container>
                  </div>
                </div>
                <div class="row mb-2">
                  <div class="col-md">
                    <label for="unitFloor" class="mb-1">Unit/Floor: </label>
                    <input
                      id="unitFloor"
                      class="form-control"
                      type="text"
                      placeholder="UnitFloor"
                      formControlName="unitFloor"
                    />
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'Unit Floor is required',
                        control: createUserForm.controls['unitFloor']
                      }"
                    ></ng-container>
                  </div>
                  <div class="col-md">
                    <label for="building" class="mb-1">Building: </label>
                    <input
                      id="building"
                      class="form-control"
                      type="text"
                      placeholder="Building"
                      formControlName="building"
                    />
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'Building is required',
                        control: createUserForm.controls['building']
                      }"
                    ></ng-container>
                  </div>
                </div>
                <div class="row mb-2">
                  <div class="col-md">
                    <label for="province" class="mb-1">Province</label>
                    <select
                      id="province"
                      class="form-control"
                      formControlName="province"
                    >
                      <option value="369">Tarlac</option>
                    </select>
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'Province is required',
                        control: createUserForm.controls['province']
                      }"
                    ></ng-container>
                  </div>
                  <div class="col-md">
                    <label for="cityMunicipality" class="mb-1">City</label>
                    <select
                      id="cityMunicipality"
                      class="form-control"
                      formControlName="cityMunicipality"
                    >
                      <option value="36913">San Clemente</option>
                    </select>
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'City/Municipality is required',
                        control: createUserForm.controls['cityMunicipality']
                      }"
                    ></ng-container>
                  </div>
                  <div class="col-md">
                    <label for="barangay" class="mb-1">Barangay</label>
                    <select
                      id="barangay"
                      class="form-control"
                      formControlName="barangay"
                    >
                      <option value="36913001">Balloc</option>
                      <option value="36913002">Bamban</option>
                      <option value="36913004">Casipo</option>
                      <option value="36913005">Catagudingan</option>
                      <option value="36913006">Daldalayap</option>
                      <option value="36913007">Doclong 1</option>
                      <option value="36913008">Doclong 2</option>
                      <option value="36913010">Maasin</option>
                      <option value="36913011">Nagsabaran</option>
                      <option value="36913013">Pit-ao</option>
                      <option value="36913014">Poblacion Norte</option>
                      <option value="36913015">Poblacion Sur</option>
                    </select>
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'Barangay is required',
                        control: createUserForm.controls['barangay']
                      }"
                    ></ng-container>
                  </div>
                </div>
                <div class="row mb-2">
                  <div class="col-md">
                    <label for="zipCode" class="mb-1">Zipcode</label>
                    <input
                      id="zipCode"
                      class="form-control"
                      type="text"
                      placeholder="Zipcode"
                      formControlName="zipCode"
                    />
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'Zip Code is required',
                        control: createUserForm.controls['zipCode']
                      }"
                    ></ng-container>
                  </div>
                  <div class="col-md">
                    <label for="email" class="mb-1">Email</label>
                    <input
                      id="email"
                      class="form-control"
                      type="email"
                      placeholder="Email"
                      formControlName="email"
                    />
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'Email is required',
                        control: createUserForm.controls['email']
                      }"
                    ></ng-container>
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'minlength',
                        message: 'Email should have at least 3 symbols',
                        control: createUserForm.controls['email']
                      }"
                    ></ng-container>
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'maxLength',
                        message: 'Email should have maximum 320 symbols',
                        control: createUserForm.controls['email']
                      }"
                    ></ng-container>
                  </div>
                </div>
                <div class="row mb-2">
                  <div class="col-md">
                    <label for="year" class="mb-1">Username</label>
                    <input
                      id="username"
                      class="form-control"
                      type="text"
                      placeholder="Username"
                      formControlName="username"
                    />
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'Username is required',
                        control: createUserForm.controls['username']
                      }"
                    ></ng-container>
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'minlength',
                        message: 'Username should have at least 8 symbols',
                        control: createUserForm.controls['username']
                      }"
                    ></ng-container>
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'maxLength',
                        message: 'Username should have maximum 16 symbols',
                        control: createUserForm.controls['username']
                      }"
                    ></ng-container>
                  </div>
                  <div class="col-md">
                    <label for="year" class="mb-1">Password</label>
                    <input
                      id="password"
                      class="form-control"
                      type="password"
                      placeholder="Password"
                      formControlName="password"
                    />
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'Password is required',
                        control: createUserForm.controls['password']
                      }"
                    ></ng-container>
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'minlength',
                        message: 'Password should have at least 3 symbols',
                        control: createUserForm.controls['password']
                      }"
                    ></ng-container>
                    <ng-container
                      [ngTemplateOutlet]="formError"
                      [ngTemplateOutletContext]="{
                        validation: 'maxLength',
                        message: 'Password should have maximum 100 symbols',
                        control: createUserForm.controls['password']
                      }"
                    ></ng-container>
                  </div>
                  <div class="col-md">
                    <label for="year" class="mb-1">Confirm Password</label>
                    <input
                      id="confirmPassword"
                      class="form-control"
                      type="password"
                      placeholder="Confirm Password"
                      formControlName="confirmPassword"
                    />
                    <span
                      class="text-danger"
                      *ngIf="createUserForm.errors?.['passwordMismatchError'] && getControl('confirmPassword')?.touched"
                    >
                      Password and Confirm password does not match!
                    </span>
                  </div>
                </div>
                <div class="row mb-2">
                  <div class="col-md text-center">
                    <button class="btn btn-primary" type="submit">
                      Create Account
                    </button>
                  </div>
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                (click)="showHideModal('')"
                data-dismiss="modal"
              >
                Close
              </button>
              <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xl-12 mb-5 mb-xl-0">
        <div class="card shadow">
          <div class="card-header border-0">
            <form [formGroup]="userForm">
              <div class="row align-items-center">
                <div class="col">
                  <h1 class="">Reporters information</h1>
                </div>
                <div class="col text-right">
                  <!-- <a href="#!" class="btn btn-sm btn-primary">See all</a> -->
                  <button
                    class="btn btn-primary mb-2"
                    type="button"
                    (click)="showHideModal('')"
                  >
                    Create Police Account
                  </button>
                </div>
              </div>
              <div class="row align-items-center mb-2">
                <div class="col">
                  <input
                    class="form-control"
                    type="text"
                    placeholder="First Name"
                    formControlName="firstNameSearch"
                    (change)="onChangeFirstNameField()"
                  />
                </div>
                <div class="col text-right">
                  <!-- <a href="#!" class="btn btn-sm btn-primary">See all</a> -->
                  <input
                    class="form-control"
                    type="text"
                    placeholder="MI"
                    formControlName="middleNameSearch"
                    (change)="onChangeMiddleNameField()"
                  />
                </div>
                <div class="col text-right">
                  <!-- <a href="#!" class="btn btn-sm btn-primary">See all</a> -->
                  <input
                    class="form-control"
                    type="text"
                    placeholder="Last Name"
                    formControlName="lastNameSearch"
                    (change)="onChangeLastNameField()"
                  />
                </div>
              </div>
              <div class="row align-items-center">
                <div class="col">
                  <select
                    class="form-control"
                    formControlName="barangaySearch"
                    (change)="onChangeBarangayField()"
                  >
                    <option
                      *ngFor="let Barangay of barangayList"
                      value="{{ Barangay.BarangayCode }}"
                    >
                      {{ Barangay.BarangayName }}
                    </option>
                  </select>
                </div>
              </div>
            </form>
          </div>
          <div class="table-responsive">
            <!-- Projects table -->
            <table class="table align-items-center table-flush">
              <thead class="thead-light">
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Selfie Id</th>
                  <th scope="col">Valid Id</th>
                  <th scope="col">Name</th>
                  <th scope="col">Address</th>
                  <th scope="col">Barangay</th>
                  <th scope="col">Contact</th>
                  <th scope="col">Action</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let data of userInfoListFilteredList">
                  <th scope="row">CN-2023 {{ data.Id }}</th>
                  <td>
                    <img
                      class="img-fluid img-c-w-h"
                      src="{{ API_URL + data.SelfieIdImage }}"
                      *ngIf="data.SelfieIdImage != null"
                    />
                  </td>
                  <td>
                    <img
                      class="img-fluid img-c-w-h"
                      src="{{ API_URL + data.ValidIdImage }}"
                      *ngIf="data.ValidIdImage != null"
                    />
                  </td>
                  <td>
                    {{
                      data.FirstName +
                        " " +
                        data.MiddleName +
                        " " +
                        data.LastName
                    }}
                  </td>
                  <td>
                    {{
                      data.HouseNo +
                        " " +
                        data.Street +
                        " " +
                        data.Village +
                        " " +
                        data.UnitFloor
                    }}
                  </td>
                  <td>{{ data.BarangayName }}</td>
                  <td>{{ data.Phone }}</td>

                  <td>
                    <!-- <button
                        class="btn btn-primary mr-2"
                        type="button"
                        (click)="
                          showHideModal('Edit', true, data.ReportId, data.Status)
                        "
                      >
                        Edit
                      </button> -->
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="row mb-2">
      <div class="col">
        <nav aria-label="Page navigation example">
          <ul class="pagination justify-content-center">
            <li class="page-item">
              <a class="page-link btn" (click)="onMinusCurrentPage()">Prev</a>
            </li>
            <li
              class="page-item"
              *ngFor="let numberOfPagesArr of numberOfPagesArr; let i = index"
            >
              <a class="page-link btn" (click)="onClickcurrentPage(i + 1)">{{
                i + 1
              }}</a>
            </li>
            <li class="page-item">
              <a
                class="page-link btn"
                (click)="onAddCurrentPage()"
                *ngIf="numberOfPages != 0"
                >Next</a
              >
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </div>
</div>

<ng-template
  #formError
  let-control="control"
  let-message="message"
  let-validation="validation"
>
  <ng-container
    *ngIf="control.hasError(validation) && (control.dirty || control.touched)"
  >
    <div class="fv-plugins-message-container">
      <div class="fv-help-block">
        <span class="text-danger">{{ message }}</span>
      </div>
    </div>
  </ng-container>
</ng-template>
